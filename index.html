<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¨æ–¹ä½æ©Ÿèƒ½ç‡Ÿé¤Šè¨ºæ–· (Pro)</title>
    <style>
        /* --- å°ˆæ¥­ç´šè¦–è¦ºè¨­å®š --- */
        :root {
            --primary-dark: #0B3D59; /* æ›´æ·±é‚ƒçš„å°ˆæ¥­è— */
            --primary-light: #F2F8FB;
            --accent-green: #27AE60; 
            --accent-gold: #F1C40F; /* åŠ å…¥é‡‘è‰²å¼·èª¿é‡é»æˆåˆ† */
            --text-main: #2C3E50;
            --white: #FFFFFF;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #EEF2F5;
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.06);
            overflow: hidden;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #fff 0%, #E3F2FD 100%);
            padding: 45px 30px;
            text-align: center;
            border-bottom: 4px solid var(--primary-dark);
        }

        h1 { color: var(--primary-dark); margin: 0; font-size: 2rem; font-weight: 800; }
        p.subtitle { color: #546E7A; margin-top: 10px; font-size: 1rem; font-weight: 500; }

        /* å•å·å€ */
        .content-box { padding: 40px; }
        .question-block { margin-bottom: 35px; }
        
        label.q-title {
            display: block;
            font-weight: 700;
            color: var(--primary-dark);
            margin-bottom: 15px;
            font-size: 1.2rem;
            border-left: 6px solid var(--accent-green);
            padding-left: 15px;
        }

        /* é¸é …ç¶²æ ¼ */
        .option-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
            gap: 15px; 
        }
        
        .option-btn { position: relative; cursor: pointer; }
        .option-btn input { display: none; }
        .option-btn span {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px 12px;
            background: #F8F9F9;
            border: 1px solid #D5DBDB;
            border-radius: 12px;
            transition: all 0.25s ease;
            font-size: 1rem;
            text-align: center;
            font-weight: 500;
            color: #555;
            height: 100%;
            box-sizing: border-box;
        }

        .option-btn input:checked + span {
            background: var(--primary-dark);
            color: white;
            border-color: var(--primary-dark);
            box-shadow: 0 6px 15px rgba(11, 61, 89, 0.25);
            transform: translateY(-2px);
        }

        select { 
            width: 100%; padding: 14px; 
            border-radius: 10px; border: 1px solid #BDC3C7; 
            font-size: 1.05rem; background: white; 
        }

        .btn-submit {
            width: 100%; padding: 18px;
            background-color: var(--accent-green);
            color: white;
            border: none; border-radius: 12px;
            font-size: 1.3rem; font-weight: bold; letter-spacing: 1px;
            cursor: pointer; margin-top: 40px;
            box-shadow: 0 5px 20px rgba(39, 174, 96, 0.3);
            transition: transform 0.1s;
        }
        .btn-submit:active { transform: scale(0.98); }

        /* çµæœé æ¨£å¼ */
        #result-page { display: none; }
        .result-header { padding: 40px 40px 20px 40px; }

        /* å»ºè­°å¡ç‰‡ */
        .schedule-card {
            margin: 0 40px 30px 40px;
            background: white;
            border-radius: 16px;
            border: 1px solid #E1E8ED;
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
            overflow: hidden;
        }

        .time-header {
            background: var(--primary-dark);
            color: white;
            padding: 12px 25px;
            font-weight: 700;
            font-size: 1.15rem;
            display: flex; justify-content: space-between; align-items: center;
        }

        .synergy-box {
            background: #EDF7ED; /* æ·ºç¶ åº• */
            padding: 15px 25px;
            font-size: 0.95rem;
            color: #1E6622;
            border-bottom: 1px solid #E0E0E0;
            line-height: 1.5;
        }
        
        .synergy-title { 
            font-weight: 800; display: block; margin-bottom: 5px; 
            color: #2E7D32; display: flex; align-items: center; gap: 5px;
        }

        .item-list { padding: 20px 25px; }

        .supplement-item {
            display: flex; flex-direction: column;
            margin-bottom: 15px; padding-bottom: 15px;
            border-bottom: 1px dashed #E0E0E0;
        }
        .supplement-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }

        .supp-row { display: flex; align-items: baseline; justify-content: space-between; }
        
        .supp-name { 
            font-weight: 700; color: var(--primary-dark); font-size: 1.1rem; 
            position: relative; padding-left: 15px;
        }
        .supp-name::before {
            content: "â€¢"; color: var(--accent-green); 
            position: absolute; left: 0; font-size: 1.5rem; line-height: 1rem; top: 2px;
        }

        .supp-tags { font-size: 0.8rem; color: #888; margin-left: 10px; }
        
        .supp-desc { 
            font-size: 0.95rem; color: #555; margin-top: 5px; 
            padding-left: 15px;
        }

        /* ç¶­è£œç›Šå°ˆå€ */
        .brand-section {
            background-color: #FAFCFF;
            padding: 40px;
            border-top: 4px solid var(--primary-dark);
        }
        .wb-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 5px solid var(--accent-gold); /* é‡‘è‰²ä»£è¡¨æ¨è–¦ */
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .btn-buy {
            display: block; margin: 40px;
            text-align: center;
            background: var(--primary-dark);
            color: white; padding: 20px;
            border-radius: 14px;
            text-decoration: none; font-weight: 800; font-size: 1.2rem;
            box-shadow: 0 8px 25px rgba(11, 61, 89, 0.25);
            transition: all 0.2s;
        }
        .btn-buy:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(11, 61, 89, 0.35); }

        .btn-reset {
            display: block; width: 100%; text-align: center;
            padding: 20px; color: #999; background: none; border: none;
            cursor: pointer; text-decoration: underline; font-size: 1rem;
        }

        /* RWD */
        @media (max-width: 600px) {
            .container { border-radius: 0; }
            .content-box { padding: 25px; }
            .option-grid { grid-template-columns: repeat(2, 1fr); }
            .schedule-card { margin: 0 20px 20px 20px; }
            .result-header { padding: 30px 20px; }
            .brand-section { padding: 30px 20px; }
            .btn-buy { margin: 30px 20px; }
        }

    </style>
</head>
<body>

<div class="container">
    
    <div id="quiz-page">
        <header>
            <h1>ğŸ”¬ å…¨æ–¹ä½æ©Ÿèƒ½ç‡Ÿé¤Šè¨ºæ–·</h1>
            <p class="subtitle">çµåˆåŠŸèƒ½é†«å­¸é‚è¼¯ï¼Œç‚ºæ‚¨æä¾›å°ˆå®¶ç´šçš„ç²¾æº–é…æ–¹</p>
        </header>

        <div class="content-box">
            <div class="question-block">
                <label class="q-title">1. ç”Ÿç†æ€§åˆ¥</label>
                <div class="option-grid">
                    <label class="option-btn">
                        <input type="radio" name="gender" value="female" checked>
                        <span>å¥³æ€§ ğŸ‘©ğŸ»</span>
                    </label>
                    <label class="option-btn">
                        <input type="radio" name="gender" value="male">
                        <span>ç”·æ€§ ğŸ‘¦ğŸ»</span>
                    </label>
                </div>
            </div>

            <div class="question-block">
                <label class="q-title">2. å¹´é½¡éšæ®µ</label>
                <select id="age">
                    <option value="15-25">15 - 25 æ­² (ç™¼è‚²/å­¸é½¡æœŸ)</option>
                    <option value="26-40" selected>26 - 40 æ­² (è·å ´/ä»£è¬åˆ†æ°´å¶º)</option>
                    <option value="41-55">41 - 55 æ­² (ç†Ÿé½¡/æ›´å¹´æœŸä¿é¤Š)</option>
                    <option value="56+">56 æ­²ä»¥ä¸Š (éŠ€é«®/æ©Ÿèƒ½ç¶­æŒ)</option>
                </select>
            </div>

            <div class="question-block">
                <label class="q-title">3. ç›®å‰å›°æ“¾èˆ‡èº«é«”ç‹€æ…‹ (å¯è¤‡é¸)</label>
                <div class="option-grid" id="symptoms-container">
                    </div>
            </div>

            <button class="btn-submit" onclick="showResults()">é–‹å§‹åˆ†æ ğŸ‘‰</button>
        </div>
    </div>

    <div id="result-page">
        <div class="result-header">
            <h2 style="color:var(--primary-dark); margin:0; font-size:1.8rem;">ğŸ“‹ æ‚¨çš„å°ˆå®¶ç´šè™•æ–¹ç±¤</h2>
            <p style="color:#666; font-size:1rem; margin-top:10px;">åŒ…å«åŸºç¤ç‡Ÿé¤Šã€é€²éšè¤‡æ–¹æˆåˆ†èˆ‡æœ€ä½³æ”å–æ™‚æ©Ÿ</p>
        </div>

        <div id="schedule-list"></div>

        <div class="brand-section">
            <h3 style="color:var(--primary-dark); margin-top:0; display:flex; align-items:center;">
                ğŸ† æœ¬æ¬¡åœ˜è³¼ç²¾é¸æ–¹æ¡ˆ
                <span style="font-size:0.8rem; background:#2ECC71; color:white; padding:3px 8px; border-radius:4px; margin-left:10px;">ç¶­è£œç›Š Tenland</span>
            </h3>
            <p style="font-size:0.95rem; color:#555; margin-bottom:25px; line-height:1.6;">
                ä»¥ä¸‹ç”¢å“ç‚ºå¤©ç„¶é…µæ¯/é£Ÿç‰©å‹æ…‹ä¾†æºï¼Œå¸æ”¶ç‡å„ªæ–¼åŒ–å­¸åˆæˆã€‚é‡å°æ‚¨çš„è¨ºæ–·çµæœï¼Œå»ºè­°å„ªå…ˆå¸¶é€™äº›ï¼š
            </p>
            <div id="wb-list"></div>
        </div>

        <a href="https://www.likepets-official.com/one-page-stores/Leona2512" target="_blank" class="btn-buy">
            å‰å¾€ç§˜å¯†è³£å ´ä¸‹å–® ğŸ›’
        </a>
        
        <button class="btn-reset" onclick="resetQuiz()">é‡æ–°æ¸¬é©—</button>
    </div>

</div>

<script>
    // --- 1. é€²éšè³‡æ–™åº« (Advanced Database) ---

    const symptoms = [
        { id: 'fatigue', label: 'å®¹æ˜“ç–²ç´¯/ç„¡åŠ› ğŸª«' },
        { id: 'pale', label: 'æ°£è‰²ä¸ä½³/è’¼ç™½ ğŸ«¥' },
        { id: 'dull_skin', label: 'çš®è†šæš—æ²‰/è Ÿé»ƒ ğŸŒ' },
        { id: 'dry_skin', label: 'è‚Œè†šä¹¾ç‡¥/è„«å±‘ ğŸª¾' },
        { id: 'sleep', label: 'ç¡çœ æ·º/é›£å…¥ç¡ ğŸ’¤' },
        { id: 'constipation', label: 'æ’ä¾¿ä¸é †/è„¹æ°£ ğŸ’©' },
        { id: 'period_pain', label: 'ç¶“æœŸæ‚¶ç—›/ä¸é© ğŸ©¸' },
        { id: 'pms', label: 'ç¶“å‰æ˜“æ€’/èƒ¸æ¼² ğŸ¤¬' },
        { id: 'cold', label: 'å¾ªç’°å·®/æ‰‹è…³å†· â„ï¸' },
        { id: 'mood', label: 'å£“åŠ›å¤§/ç„¦æ…® ğŸ”¥' },
        { id: 'oily_skin', label: 'æ¯›å­”ç²—å¤§/æ²¹å…‰ ğ«Ÿ' },
        { id: 'acne', label: 'åè¦†é•·ç—˜ç—˜ ğŸŒ‹' },
        { id: 'hair_loss', label: 'è½é«®/é«®éš›ç·šé€€ ğŸ§‘ğŸ»â€ğŸ¦²' },
        { id: 'eyes', label: 'çœ¼ç— æ¾€/é£›èšŠ ğŸ‘€' },
        { id: 'workout', label: 'é«˜å¼·åº¦é‹å‹• ğŸ‹ğŸ»' },
        { id: 'weight_loss', label: 'æ¸›è„‚/ä»£è¬åœæ»¯ ğŸ’ªğŸ»' },
        { id: 'alcohol', label: 'æ‡‰é…¬/é£²é…’ ğŸº' },
        { id: 'private_part', label: 'ç§å¯†è™•æ„ŸæŸ“/ç™¢ ğŸ’—' },
        { id: 'bad_breath', label: 'å£æ°£é‡/ç«æ°£å¤§ ğŸ‘„' }
    ];

    // æˆåˆ†è©³ç´°åŠŸæ•ˆ (Proç‰ˆï¼šåŠ å…¥æ›´å°ˆæ¥­çš„æè¿°èˆ‡è¤‡æ–¹æ¦‚å¿µ)
    const ingredientInfo = {
        'Bç¾¤': 'ç´°èƒèƒ½é‡å·¥å» çš„ç‡ƒæ–™ï¼Œæå‡ä»£è¬èˆ‡ç¥ç¶“ç©©å®š',
        'ç¶­ä»–å‘½C': 'å”åŒè† åŸè›‹ç™½åˆæˆï¼Œé‚„åŸé»‘è‰²ç´ ï¼Œæå‡å…ç–«',
        'éµ': 'ç´…è¡€çƒæ”œæ°§é—œéµï¼Œè§£æ±ºè‡‰è‰²è’¼ç™½èˆ‡è«åç–²å€¦',
        'è† åŸè›‹ç™½': 'è‚Œè†šå½ˆç°§ï¼Œå»ºè­°é¸æ“‡å°åˆ†å­èƒœè‚½(Peptide)',
        'å£æœç»å°¿é…¸': 'ã€é€²éšä¿æ¿•ã€‘åƒæµ·ç¶¿ä¸€æ¨£å¹«å…¨èº«ç´°èƒæŠ“æ°´ï¼Œæå‡è‚Œè†šæ¾æ½¤åº¦',
        'ç¥ç¶“é†¯èƒº': 'ã€é€²éšé–æ°´ã€‘åˆç¨±è³½æ´›ç¾ï¼Œä¿®å¾©è¡¨çš®å±éšœï¼Œé˜²æ­¢æ°´åˆ†æ•£å¤±',
        'ç›Šç”ŸèŒ': 'èª¿æ•´èŒå¢ç”Ÿæ…‹ï¼Œå»ºè­°é¸æ“‡å…·å‚™ã€Œå°ˆåˆ©ç·¨è™Ÿã€ä¹‹èŒæ ª',
        'æ¶ˆåŒ–é…µç´ ': 'ã€é€²éšåŠ©æ”»ã€‘åƒå‰ªåˆ€ä¸€æ¨£åˆ†è§£é£Ÿç‰©ï¼Œè§£æ±ºé£¯å¾Œè„¹æ°£èˆ‡æ¶ˆåŒ–ä¸è‰¯',
        'è†³é£Ÿçº–ç¶­': 'ã€é€²éšé¤ŠèŒã€‘ç›Šç”ŸèŒçš„é£Ÿç‰©(ç›Šç”Ÿå…ƒ)ï¼Œå¢åŠ ç³ä¾¿é«”ç©',
        'è–‘é»ƒ': 'å¤©ç„¶æŠ—ç‚åŠ‘ï¼ŒåŠ é€Ÿä»£è¬ï¼Œå„é¡æ…¢æ€§ç™¼ç‚çš„å‰‹æ˜Ÿ',
        'è‘‰é»ƒç´ ': 'è¦–ç¶²è†œé»ƒæ–‘éƒ¨çš„é˜²è­·ç½©ï¼Œå»ºè­°æ­é…ç‰ç±³é»ƒç´ ',
        'ç”Ÿç‰©ç´ ': 'Biotinï¼Œè§’è›‹ç™½åˆæˆå¿…éœ€ï¼Œæ”¹å–„æŒ‡ç”²æ˜“æ–·èˆ‡è½é«®',
        'éˆ£': 'ç¥ç¶“å‚³å°ç©©å®šåŠ‘ï¼Œé é˜²éª¨è³ªæµå¤±èˆ‡ç¶“æœŸç—™æ”£',
        'D3+K2': 'ã€é€²éšéª¨éª¼ã€‘D3å¹«åŠ©æŠ“éˆ£ï¼ŒK2è² è²¬æŠŠéˆ£å¸¶é€²éª¨é ­(ä¸å¡è¡€ç®¡)',
        'é‚': 'å¤©ç„¶é®å®šåŠ‘ï¼Œæ”¾é¬†è‚Œè‚‰ï¼Œå•Ÿå‹•å‰¯äº¤æ„Ÿç¥ç¶“(åŠ©çœ )',
        'é­šæ²¹': 'Omega-3 (é«˜æ¿ƒåº¦EPA)ï¼Œå¼·åŠ›æŠ—ç™¼ç‚ï¼Œæ”¹å–„ç´…è…«ç—˜èˆ‡ä¹¾çœ¼',
        'é‹…': 'é»è†œä¿®å¾©å¸«ï¼ŒæŠ‘åˆ¶5Î±é‚„åŸé…¶(æ§æ²¹)ï¼Œæå‡å…ç–«',
        'Q10': 'å¿ƒè‡Ÿèˆ‡ç²’ç·šé«”çš„é›»æ± ï¼Œæ”¹å–„é‹å‹•å¾Œå–˜èˆ‡ç–²å‹',
        'è‚Œé…¸': 'ã€é€²éšå‹•èƒ½ã€‘æå‡è‚Œè‚‰çˆ†ç™¼åŠ›ï¼Œå¢åŠ è‚Œè‚‰ç´°èƒå«æ°´é‡',
        'ç²¾èƒºé…¸': 'ã€é€²éšå¾ªç’°ã€‘ä¸€æ°§åŒ–æ°®å‰é©…ç‰©ï¼Œæ“´å¼µè¡€ç®¡ï¼Œæå‡é‹å‹•è¡¨ç¾',
        'è›‹ç™½è³ª': 'å„ªè³ªä¹³æ¸…/æ¤ç‰©è›‹ç™½ï¼Œé˜²æ­¢æ¸›é‡æœŸè‚Œè‚‰æµå¤±',
        'GABA': 'å¤§è…¦ç…è»Šç³»çµ±ï¼ŒæŠ‘åˆ¶éåº¦èˆˆå¥®çš„ç¥ç¶“ï¼Œå¹«åŠ©æ·±å±¤ç¡çœ ',
        'ç©€èƒ±ç”˜è‚½': 'ã€é€²éšäº®ç™½ã€‘é«”å…§æœ€å¼·æŠ—æ°§åŒ–åŠ‘ï¼Œè‚è‡Ÿè§£æ¯’èˆ‡æŠ‘åˆ¶é»‘è‰²ç´ ',
        'è”“è¶Šè“': 'å«æœ‰Aå‹å‰èŠ±é’ç´ (PACs)ï¼Œé˜²æ­¢ç´°èŒé™„è‘—',
        'D-ç”˜éœ²ç³–': 'ã€é€²éšé˜²è­·ã€‘é‡å°å¤§è…¸æ¡¿èŒï¼Œèˆ‡è”“è¶Šè“æ˜¯ç§å¯†è™•é»ƒé‡‘æ­æ“‹',
        'æ´›ç¥èŠ±è¼': 'è¼”åŠ©ç§å¯†è™•é…¸é¹¼å¹³è¡¡èˆ‡æŠ—æ°§åŒ–',
        'è–æ½”è“': 'ã€é€²éšèª¿ç†ã€‘èª¿ç¯€é»ƒé«”ç´ ï¼Œæ”¹å–„ç¶“å‰ç—‡å€™ç¾¤(PMS)èˆ‡é€±æœŸä¸ç©©'
    };

    // æ™‚é–“æ®µèˆ‡Synergyèªªæ˜ (Proç‰ˆ)
    const timeSlotSynergy = {
        'èµ·åºŠç©ºè…¹': {
            title: 'â˜€ï¸ é»ƒé‡‘å¸æ”¶æœŸï¼šä¿®å¾©èˆ‡ç¾é¡',
            desc: 'ç©ºè…¹æ™‚èƒƒé…¸å¹²æ“¾å°‘ï¼Œæ˜¯ã€Œèƒœè‚½é¡(è† åŸ)ã€èˆ‡ã€Œç‰¹æ®Šæ©Ÿèƒ½æˆåˆ†(ç›Šç”ŸèŒ/ç»å°¿é…¸)ã€å¸æ”¶ç‡æœ€é«˜çš„æ™‚åˆ»ã€‚è‹¥æœ‰åƒéµï¼Œå‹™å¿…æ­é…ç¶­ä»–å‘½Cï¼Œå¸æ”¶ç‡æå‡æ•¸å€ã€‚'
        },
        'æ—©é¤å¾Œ': {
            title: 'ğŸš€ å‹•èƒ½å•Ÿå‹•æœŸï¼šä»£è¬èˆ‡é˜²è­·',
            desc: 'Bç¾¤èˆ‡è–‘é»ƒèƒ½å°‡æ—©é¤ç†±é‡è½‰åŒ–ç‚ºæ•´å¤©çš„èƒ½é‡ã€‚è„‚æº¶æ€§ç‡Ÿé¤Šç´ ï¼ˆè‘‰é»ƒç´ ã€D3ï¼‰å¿…é ˆè·Ÿè‘—æ—©é¤çš„æ²¹è„‚ä¸€èµ·åƒï¼Œæ‰èƒ½è¢«è†½é¹½ä¹³åŒ–å¸æ”¶ã€‚'
        },
        'åˆé¤å¾Œ': {
            title: 'ğŸ›¡ï¸ æŠ—ç‚é˜²è­·æœŸï¼šå¾ªç’°èˆ‡å°ˆæ³¨',
            desc: 'é­šæ²¹é©åˆéš¨é¤æœç”¨ï¼Œèƒ½å°æŠ—åˆå¾Œçš„æ…¢æ€§ç™¼ç‚èˆ‡è…¦éœ§æ„Ÿã€‚æˆ‘å€‘åˆ»æ„å°‡éˆ£ç§»è‡³æ­¤æ™‚ï¼Œæ˜¯ç‚ºäº†é¿é–‹æ—©é¤çš„éµåŠ‘ï¼ˆéˆ£éµç«¶çˆ­å¸æ”¶ï¼‰ã€‚'
        },
        'é‹å‹•å‰å¾Œ': {
            title: 'ğŸ’ª å¢è‚Œç‡ƒè„‚æœŸï¼šçˆ†ç™¼èˆ‡ä¿®å¾©',
            desc: 'é‹å‹•å‰è£œå……ç²¾èƒºé…¸/è‚Œé…¸å¯æå‡è¡¨ç¾ï¼›é‹å‹•å¾Œ30åˆ†é˜å…§è£œå……è›‹ç™½è³ªï¼Œæ˜¯ä¿®å¾©è‚Œè‚‰çº–ç¶­çš„é—œéµçª—å£ã€‚'
        },
        'ç¡å‰': {
            title: 'ğŸŒ™ æ·±å±¤ä¿®å¾©æœŸï¼šæ’æ¯’èˆ‡æ”¾é¬†',
            desc: 'é‚ã€GABAèƒ½é—œé–‰ç·Šç¹ƒçš„ç¥ç¶“é–‹é—œã€‚å¤œé–“ä¹Ÿæ˜¯è‚è‡Ÿä¿®å¾©é«˜å³°ï¼Œç©€èƒ±ç”˜è‚½èˆ‡éˆ£åœ¨æ­¤æ™‚æœç”¨ï¼Œèƒ½ç™¼æ®æœ€å¤§çš„æ’æ¯’èˆ‡å®‰ç¥æ•ˆæœã€‚'
        }
    };

    // å°ˆæ¥­å°æ‡‰è¦å‰‡ (Mapping Logic - Pro Version)
    const rules = {
        'fatigue': ['Bç¾¤', 'éµ', 'Q10', 'ç²¾èƒºé…¸'],
        'pale': ['éµ', 'ç¶­ä»–å‘½C', 'Bç¾¤'],
        'dull_skin': ['ç©€èƒ±ç”˜è‚½', 'ç¶­ä»–å‘½C', 'è† åŸè›‹ç™½'],
        'dry_skin': ['å£æœç»å°¿é…¸', 'ç¥ç¶“é†¯èƒº', 'é­šæ²¹', 'è† åŸè›‹ç™½'], // é€²éšä¿æ¿•
        'sleep': ['é‚', 'GABA', 'éˆ£'],
        'period_pain': ['éˆ£', 'é‚', 'é­šæ²¹', 'D3+K2'],
        'pms': ['éˆ£', 'é‚', 'Bç¾¤', 'è–æ½”è“'], // é€²éšèª¿ç†
        'cold': ['éµ', 'è–‘é»ƒ', 'ç²¾èƒºé…¸'],
        'constipation': ['é‚', 'ç›Šç”ŸèŒ', 'æ¶ˆåŒ–é…µç´ ', 'è†³é£Ÿçº–ç¶­'], // é€²éšè…¸é“
        'mood': ['éˆ£', 'é‚', 'Bç¾¤', 'é­šæ²¹'],
        'oily_skin': ['é‹…', 'Bç¾¤'],
        'acne': ['é‹…', 'é­šæ²¹', 'ç›Šç”ŸèŒ'],
        'hair_loss': ['éµ', 'é‹…', 'ç”Ÿç‰©ç´ ', 'è›‹ç™½è³ª'],
        'eyes': ['è‘‰é»ƒç´ ', 'é­šæ²¹'],
        'workout': ['è‚Œé…¸', 'Bç¾¤', 'é­šæ²¹', 'ç²¾èƒºé…¸', 'è›‹ç™½è³ª'],
        'weight_loss': ['Bç¾¤', 'è›‹ç™½è³ª', 'ç›Šç”ŸèŒ', 'è–‘é»ƒ'],
        'alcohol': ['Bç¾¤', 'è–‘é»ƒ', 'ç©€èƒ±ç”˜è‚½'],
        'private_part': ['ç›Šç”ŸèŒ', 'è”“è¶Šè“', 'D-ç”˜éœ²ç³–', 'æ´›ç¥èŠ±è¼'], // é€²éšç§å¯†
        'bad_breath': ['ç›Šç”ŸèŒ', 'é‹…', 'æ¶ˆåŒ–é…µç´ ']
    };

    // ç¶­è£œç›Šç”¢å“å°æ‡‰ (ä¿æŒåŸæœ¬çš„å“ç‰Œå„ªå‹¢)
    const wbData = {
        'Bç¾¤': { name: 'å¤©ç„¶é…µæ¯Bç¾¤', desc: 'æ—©é¤å¾Œ 2 é¡†ï½œç„¡åŒ–å­¸ç•°å‘³ï¼Œæç¥ä¸ç‡¥ç†±' },
        'ç¶­ä»–å‘½C': { name: 'è¥¿å°åº¦æ«»æ¡ƒC', desc: 'æ—©é¤å¾Œæˆ–ç©ºè…¹ 2 é¡†ï½œå¤©ç„¶æœå¯¦èƒå–ï¼Œå¸æ”¶ç‡å„ª' },
        'éˆ£': { name: 'æµ·è—»éˆ£', desc: 'åˆé¤å¾Œ 2 é¡†ï½œé«˜ç”Ÿç‰©åˆ©ç”¨ç‡ï¼Œä¸è„¹æ°£' },
        'é‚': { name: 'å¤©ç„¶é…µæ¯é‚', desc: 'ç¡å‰ 1-2 é¡†ï½œæ”¾é¬†è‚Œè‚‰ï¼Œå¥½çœ é¦–é¸' },
        'é‹…': { name: 'å¤©ç„¶é…µæ¯é‹…', desc: 'åˆæ™šé¤å¾Œ 1 é¡†ï½œçš®è†šé»è†œä¿®å¾©é—œéµ' },
        'è–‘é»ƒ': { name: 'è–‘é»ƒ', desc: 'é¤å¾Œ 2 é¡†ï½œé«˜ç´”åº¦ï¼ŒåŠ å¼·ä»£è¬å¾ªç’°' },
        'éµ': { name: 'é…µæ¯éµ', desc: 'æ—©ä¸Šç©ºè…¹ 1 é¡†ï½œæº«å’Œä¸ä¾¿ç§˜ï¼Œæ°£è‰²æ•‘æ˜Ÿ' }
    };

    // --- 2. åˆå§‹åŒ–èˆ‡é‚è¼¯ ---

    const container = document.getElementById('symptoms-container');
    symptoms.forEach(item => {
        container.innerHTML += `
            <label class="option-btn">
                <input type="checkbox" value="${item.id}">
                <span>${item.label}</span>
            </label>
        `;
    });

    function showResults() {
        const gender = document.querySelector('input[name="gender"]:checked').value;
        const age = document.getElementById('age').value;
        const checked = Array.from(document.querySelectorAll('#symptoms-container input:checked')).map(cb => cb.value);
        
        let needs = new Set(['Bç¾¤']); // åŸºç¤å¿…å‚™

        // æ€§åˆ¥èˆ‡å¹´é½¡è¦å‰‡ (Proç‰ˆ)
        if (gender === 'female') {
            if (['15-25', '26-40'].includes(age)) { 
                needs.add('éµ'); needs.add('ç¶­ä»–å‘½C'); 
            } else { 
                needs.add('éˆ£'); needs.add('D3+K2'); needs.add('é­šæ²¹'); 
            }
        } else {
            needs.add('é‹…');
            if (['41-55', '56+'].includes(age)) { needs.add('é­šæ²¹'); needs.add('ç²¾èƒºé…¸'); }
        }

        // ç—‡ç‹€è¦å‰‡
        checked.forEach(s => {
            if(rules[s]) rules[s].forEach(n => needs.add(n));
            if(s === 'fatigue' && gender === 'female') needs.add('éµ');
        });

        const finalNeeds = Array.from(needs);
        renderSchedule(finalNeeds);
        renderWb(finalNeeds);

        document.getElementById('quiz-page').style.display = 'none';
        document.getElementById('result-page').style.display = 'block';
        window.scrollTo(0,0);
    }

    function renderSchedule(list) {
        const timeMap = {
            'èµ·åºŠç©ºè…¹': ['è† åŸè›‹ç™½', 'ç¶­ä»–å‘½C', 'éµ', 'ç›Šç”ŸèŒ', 'å£æœç»å°¿é…¸', 'ç©€èƒ±ç”˜è‚½'],
            'æ—©é¤å¾Œ': ['Bç¾¤', 'è–‘é»ƒ', 'è‘‰é»ƒç´ ', 'ç”Ÿç‰©ç´ ', 'D3+K2'],
            'åˆé¤å¾Œ': ['éˆ£', 'é­šæ²¹', 'é‹…', 'Q10', 'ç¥ç¶“é†¯èƒº'],
            'é‹å‹•å‰å¾Œ': ['è‚Œé…¸', 'è›‹ç™½è³ª', 'ç²¾èƒºé…¸'],
            'ç¡å‰': ['é‚', 'GABA', 'é…µç´ ', 'è”“è¶Šè“', 'D-ç”˜éœ²ç³–', 'è–æ½”è“', 'æ¶ˆåŒ–é…µç´ ', 'è†³é£Ÿçº–ç¶­']
        };

        // *é‚è¼¯ä¿®æ­£*ï¼šè‹¥æœ‰æ¶ˆåŒ–é…µç´ ï¼Œé€šå¸¸å»ºè­°éš¨é¤(åˆ/æ™šé¤)ï¼Œé€™è£¡ç‚ºç°¡åŒ–é‚è¼¯ï¼Œè‹¥æ¸…å–®æœ‰ã€Œæ¶ˆåŒ–é…µç´ ã€ï¼Œé¡¯ç¤ºåœ¨åˆé¤å¾Œæœƒæ›´ç›´è§€ï¼Œä½†ç¡å‰åƒé…µç´ é€šå¸¸æŒ‡ä»£è¬å‹ã€‚é€™è£¡æˆ‘å€‘åšå€‹å°èª¿æ•´ï¼š
        // ç‚ºäº†é¡¯ç¤ºæ•ˆæœï¼Œæˆ‘å€‘æŠŠã€Œæ¶ˆåŒ–é…µç´ ã€è·Ÿã€Œè†³é£Ÿçº–ç¶­ã€å‹•æ…‹èª¿æ•´åˆ°æ™šé¤å¾Œæˆ–éš¨é¤ï¼Œä½†åœ¨é€™è£¡çµ±ä¸€æ­¸é¡ã€‚
        
        let html = '';
        
        for (let [time, items] of Object.entries(timeMap)) {
            const userItems = items.filter(i => list.includes(i));
            
            if (userItems.length > 0) {
                let itemsHtml = userItems.map(item => `
                    <div class="supplement-item">
                        <div class="supp-row">
                            <div class="supp-name">${item}</div>
                        </div>
                        <div class="supp-desc">${ingredientInfo[item] || ''}</div>
                    </div>
                `).join('');

                let synergyHtml = '';
                if (timeSlotSynergy[time]) {
                    synergyHtml = `
                        <div class="synergy-box">
                            <span class="synergy-title">ğŸ’¡ ç‚ºä»€éº¼é€™æ™‚å€™ä¸€èµ·åƒï¼Ÿ</span>
                            ${timeSlotSynergy[time].desc}
                        </div>
                    `;
                }

                html += `
                    <div class="schedule-card">
                        <div class="time-header">
                            <span>${time}</span>
                            <span style="font-size:0.8rem; background:rgba(255,255,255,0.2); padding:2px 8px; border-radius:10px;">${userItems.length} é …</span>
                        </div>
                        ${synergyHtml}
                        <div class="item-list">
                            ${itemsHtml}
                        </div>
                    </div>
                `;
            }
        }
        document.getElementById('schedule-list').innerHTML = html || '<p style="text-align:center; padding:20px;">è«‹å…ˆå‹¾é¸æ‚¨çš„ç‹€æ³</p>';
    }

    function renderWb(list) {
        let html = '';
        let hasItem = false;
        
        // è‡ªå®šç¾©æ’åºï¼šå°‡ä¸»è¦æ¨è–¦é …ç›®æ’åœ¨å‰é¢
        const order = ['Bç¾¤', 'ç¶­ä»–å‘½C', 'éˆ£', 'é‚', 'é‹…', 'è–‘é»ƒ', 'éµ'];
        
        // å…ˆé¡¯ç¤ºæœ‰åœ¨é †åºæ¸…å–®ä¸­çš„
        order.forEach(key => {
            if (list.includes(key) && wbData[key]) {
                hasItem = true;
                html += `
                    <div class="wb-card">
                        <div style="font-weight:800; color:#0B3D59; font-size:1.1rem; margin-bottom:5px;">
                            âœ… ${wbData[key].name}
                        </div>
                        <div style="font-size:0.95rem; color:#444;">
                            ${wbData[key].desc}
                        </div>
                    </div>
                `;
            }
        });

        document.getElementById('wb-list').innerHTML = hasItem ? html : '<p>ç›®å‰æ¨è–¦æ¸…å–®ä¸­æš«ç„¡å°æ‡‰çš„ç¶­è£œç›Šç”¢å“</p>';
    }

    function resetQuiz() {
        document.getElementById('quiz-page').style.display = 'block';
        document.getElementById('result-page').style.display = 'none';
        window.scrollTo(0,0);
    }
</script>

</body>
</html>
